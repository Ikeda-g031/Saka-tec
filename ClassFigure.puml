@startuml
' Saka-tec アプリケーション構成クラス図
left to right direction
skinparam nodesep 50
skinparam ranksep 50

together {
  package "src" {
    class main {
      +createApp(App)
      +use(router)
      +use(store)
      +mount('#app')
    }

    class App {
      +components: Object
      +router-view
      +navigation-menu
      +setupApp()
      +mounted()
    }
  }

  package "src/services" {
    class TimetableService {
      +addClass(classData)
      +getAllClasses()
      +updateClass(classData)
      +deleteClass(classId)
      +getClassByDayAndPeriod(day, period)
      +getScheduleData(weekStart)
      +importData(data)
      +exportData()
    }
    class TimetableDatabase <<Dexie>>
  }
}

package "src/components" {
  together {
    class HomeScreen {
      +scheduleData: Object
      +onCellClick(cellId)
      +goToSelectSchedule(day, period)
    }
    class ClassDetailViewScreen {
      +course: Object
      +loadCourseData()
      +editCourse()
    }
  }
  
  together {
    class Classinfoedit {
      +courseName: String
      +teacherName: String
      +credits: Number
      +submitForm()
    }
    class Jugyogai {
      +title: String
      +submitForm()
    }
    class SelectSchedule {
      +addLesson()
      +addOther()
    }
  }
}

' アプリケーションの初期化フロー
main --> App : creates
App --> HomeScreen : mounts
App --> TimetableService : initializes

' サービスの依存関係
TimetableService --> TimetableDatabase : uses

' コンポーネントの依存関係
HomeScreen --> TimetableService : uses
Classinfoedit --> TimetableService : uses
Jugyogai --> TimetableService : uses
ClassDetailViewScreen --> TimetableService : uses

' ナビゲーションフロー
HomeScreen --> SelectSchedule : navigates
HomeScreen --> ClassDetailViewScreen : navigates
SelectSchedule --> Classinfoedit : navigates
SelectSchedule --> Jugyogai : navigates

@enduml